#pragma once

#include <map>
#include "dbgext.h"

/////////////////////////////////////////////////////////////////////////////////

class  dbgBreakpointClass {

public:

    dbgBreakpointClass( ULONG64 offset, boost::python::object  &callback );
    dbgBreakpointClass( ULONG64 offset );

    ~dbgBreakpointClass();

    bool
    set();

    void
    remove();    

    std::string
    print() const;

private:

    ULONG64                 m_offset;

    IDebugBreakpoint        *m_breakpoint;
    
    boost::python::object   m_callback;
    
private:

    typedef std::map<IDebugBreakpoint*, dbgBreakpointClass*>     breakpointMap;
    static  breakpointMap       m_breakMap;
    
public:    
    
    static HRESULT onBreakpointEvnet( IDebugBreakpoint*  bp );
    
};

/////////////////////////////////////////////////////////////////////////////////

